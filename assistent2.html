<!DOCTYPE html>
<html lang="sv">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <title>HSB SÃ¶dertÃ¶rn Chatt</title>
Â  <style>
Â  Â  :root {
Â  Â  Â  --hsb-blue: #003366;
Â  Â  Â  --hsb-white: #ffffff;
Â  Â  Â  --hsb-grey: #5F7D8B;
Â  Â  Â  --light-grey: #f9f9f9; /* Ny fÃ¤rg fÃ¶r bakgrunden i meddelandefÃ¤ltet */
Â  Â  Â  --input-border: #dcdcdc; /* Ny fÃ¤rg fÃ¶r input-fÃ¤ltets border */
Â  Â  Â  --font-body: 'Arial', sans-serif; /* Ã„ndrat till ett mer standard typsnitt */
Â  Â  }

Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 20px; /* Lite mer padding runt hela */
Â  Â  Â  font-family: var(--font-body);
Â  Â  Â  background-color: var(--light-grey); /* LjusgrÃ¥ bakgrund fÃ¶r hela sidan */
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  min-height: 100vh; /* Se till att bakgrunden tÃ¤cker hela skÃ¤rmen */
Â  Â  }

Â  Â  #chatbox {
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 450px; /* NÃ¥got bredare */
Â  Â  Â  height: auto; /* Anpassa hÃ¶jden efter innehÃ¥llet */
Â  Â  Â  border: 1px solid var(--hsb-blue); /* Tunnare border */
Â  Â  Â  border-radius: 8px; /* Mjukare hÃ¶rn */
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  overflow: hidden;
Â  Â  Â  box-shadow: 0 2px 8px rgba(0, 51, 102, 0.1); /* Subtilare skugga */
Â  Â  Â  background-color: var(--hsb-white);
Â  Â  }

Â  Â  #messages {
Â  Â  Â  flex: 1;
Â  Â  Â  padding: 10px 15px; /* Justerad padding */
Â  Â  Â  overflow-y: auto;
Â  Â  Â  background-color: var(--light-grey); /* LjusgrÃ¥ bakgrund fÃ¶r meddelanden */
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  }

Â  Â  .message {
Â  Â  Â  max-width: 80%;
Â  Â  Â  padding: 8px 12px; /* Mindre padding inuti meddelanden */
Â  Â  Â  margin-bottom: 8px; /* Mindre marginal mellan meddelanden */
Â  Â  Â  border-radius: 16px; /* Mer rundade hÃ¶rn */
Â  Â  Â  font-size: 0.9rem; /* NÃ¥got mindre text */
Â  Â  Â  line-height: 1.3;
Â  Â  Â  word-wrap: break-word;
Â  Â  }

Â  Â  .user {
Â  Â  Â  background-color: var(--hsb-blue);
Â  Â  Â  color: var(--hsb-white);
Â  Â  Â  margin-left: auto;
Â  Â  Â  text-align: right;
Â  Â  Â  border-bottom-right-radius: 4px;
Â  Â  Â  border-top-right-radius: 4px;
Â  Â  Â  border-top-left-radius: 16px;
Â  Â  Â  border-bottom-left-radius: 16px;
Â  Â  }

Â  Â  .bot {
Â  Â  Â  background-color: var(--hsb-white); /* Vit bakgrund fÃ¶r botens meddelanden */
Â  Â  Â  color: #333; /* MÃ¶rkare textfÃ¤rg */
Â  Â  Â  margin-right: auto;
Â  Â  Â  text-align: left;
Â  Â  Â  border: 1px solid var(--input-border); /* Tunn border runt botens meddelanden */
Â  Â  Â  border-bottom-left-radius: 4px;
Â  Â  Â  border-top-left-radius: 4px;
Â  Â  Â  border-top-right-radius: 16px;
Â  Â  Â  border-bottom-right-radius: 16px;
Â  Â  }

Â  Â  .bot strong {
Â  Â  Â  display: inline; /* GÃ¶r strong-elementet inline */
Â  Â  Â  font-weight: bold;
Â  Â  Â  margin-right: 4px; /* Lite marginal efter "ðŸ¤– HSB Assistent:" */
Â  Â  }

Â  Â  #inputArea {
Â  Â  Â  display: flex;
Â  Â  Â  padding: 10px 15px; /* Justerad padding */
Â  Â  Â  background-color: var(--hsb-white);
Â  Â  Â  border-top: 1px solid var(--input-border); /* LjusgrÃ¥ border */
Â  Â  }

Â  Â  #userInput {
Â  Â  Â  flex: 1;
Â  Â  Â  padding: 8px 12px; /* Justerad padding */
Â  Â  Â  border-radius: 20px;
Â  Â  Â  border: 1px solid var(--input-border); /* LjusgrÃ¥ border */
Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  outline: none;
Â  Â  }

Â  Â  button {
Â  Â  Â  background-color: var(--hsb-blue);
Â  Â  Â  color: var(--hsb-white);
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 20px;
Â  Â  Â  padding: 8px 16px; /* Justerad padding */
Â  Â  Â  margin-left: 8px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-family: var(--font-body);
Â  Â  Â  transition: background 0.3s ease;
Â  Â  Â  font-size: 0.9rem; /* NÃ¥got mindre text */
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  background-color: #002244;
Â  Â  }

Â  Â  @media (max-width: 480px) {
Â  Â  Â  #chatbox {
Â  Â  Â  Â  border-radius: 0;
Â  Â  Â  }

Â  Â  Â  #userInput,
Â  Â  Â  button {
Â  Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>

<div id="chatbox">
Â  <div id="messages">
Â  Â  <div class="message bot" id="initialBotMessage"><strong>ðŸ¤– HSB Assistent:</strong> Hej! Jag Ã¤r HSB SÃ¶dertÃ¶rns AI-assistent. Vad vill du ha hjÃ¤lp med?</div>
Â  </div>
Â  <div id="inputArea">
Â  Â  <input type="text" id="userInput" placeholder="Skriv din frÃ¥ga hÃ¤r..." />
Â  Â  <button onclick="sendMessage()">Skicka</button>
Â  </div>
</div>

<script>
Â  async function sendMessage() {
Â  Â  const input = document.getElementById("userInput");
Â  Â  const message = input.value.trim();
Â  Â  if (!message) return;

Â  Â  addMessage(message, "user");
Â  Â  input.value = "";

Â  Â  const response = await getAIResponse(message);
Â  Â  await displayBotMessage(response);
Â  }

Â  function addMessage(text, sender) {
Â  Â  const messages = document.getElementById("messages");
Â  Â  const div = document.createElement("div");
Â  Â  div.className = "message " + sender;
Â  Â  div.innerText = text;
Â  Â  messages.appendChild(div);
Â  Â  messages.scrollTop = messages.scrollHeight;
Â  }

Â  async function displayBotMessage(text) {
Â  Â  const messages = document.getElementById("messages");
Â  Â  const div = document.createElement("div");
Â  Â  div.className = "message bot";
Â  Â  div.innerHTML = '<strong>ðŸ¤– HSB Assistent:</strong> <span id="typingText"></span>';
Â  Â  messages.appendChild(div);
Â  Â  messages.scrollTop = messages.scrollHeight;

Â  Â  const typingTextElement = document.getElementById("typingText");
Â  Â  let i = 0;
Â  Â  const speed = 50; // Justera fÃ¶r att Ã¤ndra skrivhastigheten (ms per bokstav)

Â  Â  return new Promise((resolve) => {
Â  Â  Â  function typeWriter() {
Â  Â  Â  Â  if (i < text.length) {
Â  Â  Â  Â  Â  typingTextElement.textContent += text.charAt(i);
Â  Â  Â  Â  Â  i++;
Â  Â  Â  Â  Â  setTimeout(typeWriter, speed);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  resolve();
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â  typeWriter();
Â  Â  });
Â  }

Â  async function getAIResponse(userInput) {
Â  Â  // Simulerar en kort fÃ¶rdrÃ¶jning innan svaret kommer
Â  Â  await new Promise(resolve => setTimeout(resolve, 500));

Â  Â  if (userInput.toLowerCase().includes("felanmÃ¤lan")) {
Â  Â  Â  return "Du kan gÃ¶ra en felanmÃ¤lan via vÃ¥r portal: https://hsb.se/sodertorn/kontakt/felanmalan";
Â  Â  } else if (userInput.toLowerCase().includes("parkering")) {
Â  Â  Â  return "FÃ¶r parkeringsfrÃ¥gor, kontakta din brf-styrelse eller vÃ¥r kundservice.";
Â  Â  } else {
Â  Â  Â  return "Jag Ã¤r inte helt sÃ¤ker â€“ men jag kan koppla dig vidare till vÃ¥r kundservice om du vill?";
Â  Â  }
Â  }

Â  // Visar det initiala meddelandet med skriveffekten
Â  displayInitialBotMessage();

Â  async function displayInitialBotMessage() {
Â  Â  const initialMessageElement = document.getElementById("initialBotMessage");
Â  Â  const fullText = initialMessageElement.textContent;
Â  Â  initialMessageElement.innerHTML = '<strong>ðŸ¤– HSB Assistent:</strong> <span id="initialTypingText"></span>';
Â  Â  const typingTextElement = document.getElementById("initialTypingText");
Â  Â  let i = 0;
Â  Â  const speed = 50;

Â  Â  return new Promise((resolve) => {
Â  Â  Â  function typeWriter() {
Â  Â  Â  Â  if (i < fullText.length) {
Â  Â  Â  Â  Â  typingTextElement.textContent += fullText.charAt(i);
Â  Â  Â  Â  Â  i++;
Â  Â  Â  Â  Â  setTimeout(typeWriter, speed);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  resolve();
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â  typeWriter();
Â  Â  });
Â  }
</script>

</body>
</html>
